<!DOCTYPE html>




<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Writing documentation &mdash; ACTL  documentation</title>
    <meta name="description" content="">
    <meta name="author" content="">

    

<link rel="stylesheet" href="../_static/css/basicstrap-base.css" type="text/css" />
<link rel="stylesheet" id="current-theme" href="../_static/css/bootstrap3/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" id="current-adjust-theme" type="text/css" />

<link rel="stylesheet" href="../_static/css/font-awesome.min.css">

<style type="text/css">
  body {
    padding-top: 60px;
    padding-bottom: 40px;
  }
</style>

<link rel="stylesheet" href="../_static/css/basicstrap.css" type="text/css" />
<link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
<link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
<link rel="stylesheet" href="../_static/css/basicstrap.css" type="text/css" />
    
<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    '../',
            VERSION:     '',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  false
  };
</script>
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/js/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/bootstrap3.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery.cookie.min.js"></script>
<script type="text/javascript" src="../_static/js/basicstrap.js"></script>
<script type="text/javascript">
</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="ACTL  documentation" href="../index.html" />
    <link rel="prev" title="Writing code" href="Writing%20code.html" /> 
  </head>
  <body role="document">
    <div id="navbar-top" class="navbar navbar-fixed-top navbar-default" role="navigation" aria-label="top navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html">ACTL  documentation</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
              <li class="dropdown visible-xs">
                <a role="button" id="localToc" data-toggle="dropdown" data-target="#" href="#">Table Of Contents <b class="caret"></b></a>
                <ul class="dropdown-menu localtoc sp-localtoc" role="menu" aria-labelledby="localToc">
                <ul>
<li><a class="reference internal" href="#">Writing documentation</a><ul>
<li><a class="reference internal" href="#doxygen">Doxygen</a></li>
<li><a class="reference internal" href="#sphinx">Sphinx</a></li>
<li><a class="reference internal" href="#publishing-documentation">Publishing documentation</a></li>
</ul>
</li>
</ul>

                </ul>
              </li>

            
              <li><a href="Writing%20code.html" title="Writing code" accesskey="P">previous </a></li>
              <li><a href="../genindex.html" title="General Index" accesskey="I">index </a></li>
            

            <li class="visible-xs">
                <form class="search form-search form-inline navbar-form navbar-right sp-searchbox" action="../search.html" method="get">
                  <div class="input-append input-group">
                    <input type="text" class="search-query form-control" name="q" placeholder="Search...">
                    <span class="input-group-btn">
                    <input type="submit" class="btn" value="Go" />
                    </span>
                  </div>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </li>

            

          </ul>

        </div>
      </div>
    </div>
    

    <!-- container -->
    <div class="container-fluid">

      <!-- row -->
      <div class="row">
         
<div class="col-md-3 hidden-xs" id="sidebar-wrapper">
  <div class="sidebar hidden-xs" role="navigation" aria-label="main navigation">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Writing documentation</a><ul>
<li><a class="reference internal" href="#doxygen">Doxygen</a></li>
<li><a class="reference internal" href="#sphinx">Sphinx</a></li>
<li><a class="reference internal" href="#publishing-documentation">Publishing documentation</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="Writing%20code.html"
                          title="previous chapter">Writing code</a></p>
  </div>
<div id="searchbox" role="search">
  <h3>Quick search</h3>
  <form class="search form-inline" action="../search.html" method="get">
      <div class="input-append input-group">
        <input type="text" class="search-query form-control" name="q" placeholder="Search...">
        <span class="input-group-btn">
        <input type="submit" class="btn" value="Go" />
        </span>
      </div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
  </div>
</div> 
        

        <div class="col-md-9" id="content-wrapper">
          <div class="document" role="main">
            <div class="documentwrapper">
              <div class="bodywrapper">
                <div class="body">
                  
  <section id="writing-documentation">
<h1>Writing documentation<a class="headerlink" href="#writing-documentation" title="Permalink to this headline">¶</a></h1>
<p>One of the biggest problems of C++ is a lack of good and easy to use tools for writing documentation.
Here we describe the documentation tools chosen as the best fit for ACTL at this time.
They are based on the article <a class="reference external" href="https://devblogs.microsoft.com/cppblog/clear-functional-c-documentation-with-sphinx-breathe-doxygen-cmake/">Clear, Functional C++ Documentation with Sphinx + Breathe + Doxygen + CMake</a> which you can read for more details.
The main difference is that shell scripts are used insted of CMake commands for simplicity, but this may be revisited to make scripts portable.</p>
<p>All the requirements can be installed using the <a class="reference external" href="https://github.com/AlCash07/ACTL/blob/master/scripts/doc/setup.sh">scripts/doc/setup.sh</a> script.</p>
<section id="doxygen">
<h2>Doxygen<a class="headerlink" href="#doxygen" title="Permalink to this headline">¶</a></h2>
<p>The most complicated task, the C++ code parsing, is done by Doxygen.
Documentation comments that follow the <a class="reference external" href="https://www.doxygen.nl/manual/docblocks.html">Doxygen manual</a> are automatically extracted at this step,
but they don’t automatically appear in any web pages.
The following style of comments is preferred in ACTL:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Description.</span>
</pre></div>
</div>
<p>Only comments that explain what classes and functions do should be written in Doxygen.
For other things such as examples and design rationale, and also how to use Doxygen output, see <a class="reference internal" href="#sphinx">Sphinx</a> section.</p>
<p>Documentatition comments are actually strongly discouraged.
The goal is to have self-documenting code whenever possible:</p>
<ul class="simple">
<li><p>Use descriptive names for types, functions, parameters etc.</p></li>
<li><p>Introduce more high level types.
For example, if a class <code class="code highlight cpp docutils literal notranslate"><span class="n"><span class="pre">Line</span></span></code> is used instead of two points, there’s no need for a comment explaining that these two points represent a line.</p></li>
<li><p>Use special utilities to improve clarity, such as <code class="code highlight cpp docutils literal notranslate"><span class="n"><span class="pre">out</span></span></code> and <code class="code highlight cpp docutils literal notranslate"><span class="n"><span class="pre">inout</span></span></code> wrappers.</p></li>
</ul>
<p>Treat every comment as a failure to express yourself in code.
Write a comment only when it provides useful information that can’t be written in the code itself.</p>
<p>Doxygen can be run using the <a class="reference external" href="https://github.com/AlCash07/ACTL/blob/master/scripts/doc/doxygen.sh">scripts/doc/doxygen.sh</a> script
or <code class="docutils literal notranslate"><span class="pre">run</span> <span class="pre">doxygen</span></code> VS Code task.</p>
<p>Doxygen configuration file can be found <a class="reference external" href="https://github.com/AlCash07/ACTL/blob/master/doc/Doxyfile.in">here</a>.
The options of interest are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GENERATE_XML</span></code> is set to <code class="docutils literal notranslate"><span class="pre">YES</span></code>, because xml output is used for the following steps.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GENERATE_HTML</span></code> is set to <code class="docutils literal notranslate"><span class="pre">NO</span></code>, but can be set to YES to check the output locally in the <em>build/doc/doxygen/html</em> folder.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXTRACT_ALL</span></code> is set to <code class="docutils literal notranslate"><span class="pre">YES</span></code>, because most of the library content is put into free functions instead of classes by design.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXCLUDE_SYMBOLS</span></code> is set to <code class="docutils literal notranslate"><span class="pre">detail</span></code>, as this is the canonical namespace for implementation details.
Don’t put public code such as base classes with public interface into detail, because they won’t be documented.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INLINE_INHERITED_MEMB</span></code> is set to <code class="docutils literal notranslate"><span class="pre">YES</span></code> to make it easier to see the full class interface.
Utilities such as iterators and ranges rely on base classes to define the full interface without writing repetitive boilerplate code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDEFINED</span></code> contains macros that affect the structure of the code.
They would be parsed incorrectly otherwise.</p></li>
</ul>
</section>
<section id="sphinx">
<h2>Sphinx<a class="headerlink" href="#sphinx" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.sphinx-doc.org/en/master/">Sphinx generator</a> is used to generate the final documentation web pages.
The sources in rst format are located in the <a class="reference external" href="https://github.com/AlCash07/ACTL/tree/master/doc">doc</a> folder.
Existing sources can be used as a reference, other useful links for writing them are:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docutils.sourceforge.io/docs/user/rst/quickref.html">reStructuredText quick reference</a></p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html">Sphinx directives</a></p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#cpp-domain">Sphinx C++ support</a></p></li>
<li><p><a class="reference external" href="https://breathe.readthedocs.io/en/latest/directives.html">Breathe directives</a>.
Breathe is an extension for Sphinx that allows to use Doxygen xml output.</p></li>
</ul>
<p>Sphinx can be run using the <a class="reference external" href="https://github.com/AlCash07/ACTL/blob/master/scripts/doc/sphinx.sh">scripts/doc/sphinx.sh</a> script
or <code class="docutils literal notranslate"><span class="pre">generate</span> <span class="pre">documentation</span></code> VS Code task (together with Doxygen),
and its output can be examined by opening <em>build/doc/sphinx/index.html</em></p>
</section>
<section id="publishing-documentation">
<h2>Publishing documentation<a class="headerlink" href="#publishing-documentation" title="Permalink to this headline">¶</a></h2>
<p>Currently, the documentation is published manually only by the project maintainers using the
<a class="reference external" href="https://github.com/AlCash07/ACTL/blob/master/scripts/doc/publish.sh">scripts/doc/publish.sh</a> script
or <code class="docutils literal notranslate"><span class="pre">publish</span> <span class="pre">documentation</span></code> VS Code task (together with documentation generation).</p>
<p>Generated documentation is committed to a special <a class="reference external" href="https://github.com/AlCash07/ACTL/tree/doc">doc branch</a>
and then automatically published to <a class="reference external" href="https://pages.github.com/">GitHub pages</a> at <a class="reference external" href="https://alcash07.github.io/ACTL/">https://alcash07.github.io/ACTL/</a>.</p>
<p>Note that <em>.nojekyll</em> file had to be created in that branch to support the <em>_static</em> folder used by Sphinx.</p>
</section>
</section>


                </div>
              </div>
            </div>
          </div>
        </div>
        
        
      </div><!-- /row -->

      <!-- row -->
      <div class="row footer-relbar">
<div id="navbar-related" class=" related navbar navbar-default" role="navigation" aria-label="related navigation">
  <div class="navbar-inner">
    <ul class="nav navbar-nav ">
        <li><a href="../index.html">ACTL  documentation</a></li>
    </ul>
<ul class="nav navbar-nav pull-right hidden-xs hidden-sm">
      
        <li><a href="Writing%20code.html" title="Writing code" >previous</a></li>
        <li><a href="../genindex.html" title="General Index" >index</a></li>
        <li><a href="#">top</a></li> 
      
    </ul>
  </div>
</div>
      </div><!-- /row -->

      <!-- footer -->
      <footer role="contentinfo">
          &copy; Copyright 2022, Oleksandr Bacherikov.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 4.4.0.
      </footer>
      <!-- /footer -->

    </div>
    <!-- /container -->

  </body>
</html>